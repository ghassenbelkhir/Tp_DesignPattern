<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Decorator Pattern</title>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
</head>
<body>
<b>CMPT 300 Design Patterns<br>
May 2012<br>
<br>
Lab 3&nbsp; - The Decorator Pattern </b><br>
<hr noshade="noshade" size="1" width="100%"><br>
<div style="text-align: center;"><span style="font-weight: bold;">&lt;&lt;</span>
<a href="lab3.zip">lab3.zip</a> <span style="font-weight: bold;">&gt;&gt;</span><br>
</div>
<br>
The <b>Decorator</b> pattern is used to dynamically assign
responsibilities at runtime. They provide a flexible alternative to
subclassing (inheritance ... which is done at compile time) &nbsp;for
extending functionality.<br>
<br>
<br>
<b>An example </b><br>
<br>
<blockquote><img src="ice-cream.jpg" alt="Ice Cream" height="225"
 width="150" align="middle"> <br>
</blockquote>
<br>
Suppose we have three flavors of ice cream available for dessert:
Chocolate, Strawberry, and
Vanilla.
Also assume we may also want to add a cherry, hot fudge, or whipped
cream
to the ice cream. (These can all be added, or just a cherry, or whipped
cream
and hot fudge, etc.)<br>
<br>
We have various techniques for solving this (inheritance, etc.), but
the
Decorator pattern allows us to dynamically change an Ice Cream object
at
run time.<br>
<br>
<br>
In UML, <br>
<br>
<img alt="Decorator" src="decorator.jpg"
 style="width: 750px; height: 310px;"><br>
<br>
<br>
The Java classes:<br>
<br>
<div style="margin-left: 40px;">- <a target="_blank"
 href="Dessert.java">Dessert.java</a><br>
<br>
- <a target="_blank" href="Chocolate.java">Chocolate.java</a><br>
<br>
- <a target="_blank" href="Strawberry.java">Strawberry.java</a><br>
<br>
- <a target="_blank" href="IceCreamDecorator.java">IceCreamDecorator.java</a><br>
<br>
- <a target="_blank" href="Cherry.java">Cherry.java</a><br>
<br>
- <a target="_blank" href="Holstein.java">Holstein.java</a><br>
</div>
<br>
<br>
<b>The Lab: Part I</b><br>
<br>
<div style="margin-left: 40px;"><span style="font-weight: bold;">I</span>.
Add
another
flavor - <span style="font-weight: bold;">Vanilla</span> -
which
costs 1.25<br>
<br>
<span style="font-weight: bold;">II</span>. Add two separate decorators
for
(1) <span style="font-weight: bold;">whipped cream</span>, and (2) <span
 style="font-weight: bold;">hot fudge</span>. Whipped cream costs an
extra
.25, hot fudge is .60. Modify the test program (<span
 style="font-weight: bold;">Holstein.java</span>) so that you create
various
combinations of different flavored ice cream cones with cherry, whipped
cream,
and hot fudge.<br>
<br>
<span style="font-weight: bold;">III</span>. Using pencil-and-paper,
sketch
the UML class diagrams for all ice cream classes illustrating how they
use
the Decorator. <br>
</div>
<br>
<hr noshade="noshade" size="1" width="100%"><br>
<b>Another Example</b><br>
<br>
The <a
 href="http://docs.oracle.com/javase/6/docs/api/java/io/package-summary.html"
 target="_blank">java.io</a> package has widely practiced the Decorator
pattern.
As a very small example:<br>
<br>
<img alt="java.io Decorators" src="decorator1.jpg"
 style="width: 650px; height: 470px;"><br>
<br>
An example program:<br>
<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; - <a
 href="IOExample.java" target="_blank">IOExample.java</a> - a program
illustrating
how the <big><span style="font-family: monospace;">java.io</span></big>
package uses decorators.<br>
<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; A more interesting example where
we
decorate an <big><span style="font-family: monospace;">InputStream</span></big>
with a <a target="_blank"
 href="http://en.wikipedia.org/wiki/Caesar_cipher">Caesar Shift</a>.<br>
<br>
<div style="margin-left: 40px;">- <a target="_blank" href="IO.java">IO.java</a><br>
<br>
- <a target="_blank" href="CaesarShiftInputStream.java">CaesarShiftInputStream.java</a><br>
<br>
This program uses <a target="_blank" href="file.txt">file.txt</a><br>
</div>
<br>
Notice how we wrap (decorate) a <big><span
 style="font-family: monospace;">FilterInputStream</span></big> with <big><span
 style="font-family: monospace;">CaesarShiftInputStream</span></big>.<br>
<br>
<span style="font-weight: bold;">The Lab: Part II</span><br>
<br>
One way to send a flame is to write a message using ENTIRELY UPPER CASE
LETTERS.<br>
<br>
Write a decorator called <big><span style="font-family: monospace;">FlameInputStream</span></big>
that takes a file and turns all letters <span
 style="font-family: monospace;">{a..z, A .. Z}</span> into their
upper-case
equivalents.&nbsp;
You will use a similar technique to <big><span
 style="font-family: monospace;">CaesarShiftInputStream.java</span></big>,
except
that
the
<span style="font-family: monospace;">read()</span> method
will turn all letters into uppercase. You may find some methods in
the&nbsp;<big><span style="font-family: monospace;"></span><span
 style="font-family: monospace;"></span><span
 style="font-family: monospace;">Character</span></big> class useful.<br>
<br>
<br>
This will require modifying <big><span style="font-family: monospace;">IO.java</span></big>
as well.<br>
<br>
<br>
<b>What to Submit to Receive Credit for This Lab:</b><br>
<br>
When you have completed this lab, please show me:<br>
<br>
1. The UML drawing from Part I<br>
<br>
2. Classes for the vanilla ice cream flavor as well as the whipped
cream
and hot fudge decorators. In addition, demonstrate your new decorators
work
properly by demonstrating your modified <big><span
 style="font-family: monospace;">Holstein</span></big> program.<br>
<br>
3. Demo of <big><span style="font-family: monospace;">FlameInputStream.java
</span></big><br>
<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; <br>
<br>
<br>
<br>
</body>
</html>
